<ul class="d-flex flex-wrap gap-2 list-unstyled" id="module_list">
  <% modules.sort_by { |name, _| name.to_s.titleize }.each do |(name, versions)| %>
    <li class="module-card p-2">
      <button class="btn btn-secondary p-2 w-100" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_<%= name %>">
        <%= name.to_s.titleize %>
      </button>
      <%# TODO: Lazy load collapse content %>
      <div id="collapse_<%= name %>" class="collapse mt-2">
        <div class="p-3 border rounded bg-light">
          <div>
            <strong>Available modules:</strong> 
            <br>
            <%= render 'versions_table', versions: versions, clusters: versions.map(&:cluster).uniq %>
          </div>
        </div>
      </div>
    </li>
  <% end %>
</ul>
