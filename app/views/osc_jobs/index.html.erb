<div class="page-header" xmlns="http://www.w3.org/1999/html">
</div>

<div class="col-md-7">
  <div class="panel">
    <h2>Listing OSC Jobs</h2>
    <a class="btn btn-default btn-sm" href="<%= new_osc_job_path %>" data-toggle="tooltip" title="Create a new job from a template" role="button"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New From Template</a>
  </div>
</div>

<div class="col-md-5">
  <!-- placeholder -->
</div>

<div class="col-md-7">
  <div id="jobListView" class="panel panel-default">
    <div class="panel-body">
      <div class="panel-body">
        <a class="btn btn-default btn-sm" data-toggle="tooltip" title="Copy Job" role="button"><span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span> Copy</a>
        <a class="btn btn-default btn-sm" data-toggle="tooltip" title="Stop Job" role="button"><span class="glyphicon glyphicon-stop" aria-hidden="true"></span> Stop</a>
        <a class="btn btn-default btn-sm" data-toggle="tooltip" title="Set as Template" role="button"><span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span> Set Template</a>
        <a class="btn btn-danger btn-sm" data-toggle="tooltip" title="Delete Job" role="button"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
      </div>

      <div class="panel-body">
        <table class="table data-table">
          <thead>
          <tr>
            <th>Name</th>
            <th>PBS ID</th>
            <th>Cluster</th>
            <th>Status</th>
            <th class="no-sort"></th>
          </tr>
          </thead>

          <tbody>
          <% @osc_jobs.each do |osc_job| %>
              <tr>
                <td><%= osc_job.name %></td>
                <td><%= osc_job.id %></td>
                <td><%= osc_job.batch_host %></td>
                <td><%= status_label(osc_job) %></td>
                <td><%= link_to 'Submit', submit_osc_job_path(osc_job), method: :put, class: 'btn btn-success btn-sm' unless osc_job.submitted? %></td>
                <td><%= link_to 'Show', osc_job, class: 'btn btn-primary btn-sm' %></td>
                <td><%= link_to 'Edit', edit_osc_job_path(osc_job), class: 'btn btn-default btn-sm' unless osc_job.submitted? %></td>
                <td><%= link_to 'Copy', copy_osc_job_path(osc_job), method: :put, class: 'btn btn-default btn-sm' %></td>
                <td><%= link_to 'Destroy', osc_job, method: :delete, class: 'btn btn-danger btn-sm', data: { confirm: 'Are you sure?' } %></td>
              </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="col-md-5">
  <div class="panel panel-default">
    <div class="panel-body">
      <p>Details: {{ Placeholder }}</p>
      <p>Submit to:
        <select id="submitHost">
          <% Servers.each do |s| %>
              <option value="<%= s.first %>"><%= s.first.titleize %></option>
          <% end %>
        </select>
      </p>
      <a class="btn btn-default btn-sm" data-toggle="tooltip" title="Open Directory in File Manager" role="button"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Open Dir</a>
      <a class="btn btn-default btn-sm" data-toggle="tooltip" title="View File" role="button"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></a>
      <a class="btn btn-default btn-sm" data-toggle="tooltip" title="Edit File" role="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
    </div>

    <div id="jobDetailsView" class="panel-body">
      <!-- TODO : Iterate over the directories and create <th> tags for each subdir. -->
      <h3>Details: {{ JOB DETAILS }}</h3>
      <table class="table">
        <thead>
        <tr>
          <th>1</th>
          <th>2</th>
          <th>3</th>
          <th>4</th>
        </tr>
        </thead>

        <tbody>
        <tr>
          <td>1a</td>
          <td>2b</td>
          <td>3c</td>
          <td>4d</td>
        </tr>
        </tbody>

      </table>
    </div>
  </div>
</div>
